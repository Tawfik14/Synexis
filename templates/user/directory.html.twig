{% extends 'base.html.twig' %}

{% block title %}Explorer les profils{% endblock %}

{% block body %}
<div class="container" style="padding: 2rem; max-width: 800px; margin: auto;">
  <h1>Explorer les profils</h1>

  <form method="get" action="{{ path('app_user_directory') }}" style="margin-bottom: 2rem;">
    <input type="text" name="search" placeholder="Rechercher par pseudo ou email" value="{{ search }}" style="padding: 0.5rem; width: 80%;">
    <button type="submit" style="padding: 0.5rem;">Rechercher</button>
  </form>

  {% if users is empty %}
    <p>Aucun utilisateur trouv√©.</p>
  {% else %}
    <ul style="list-style: none; padding: 0;">
      {% for user in users %}
        <li style="padding: 1rem; border-bottom: 1px solid #ccc; display: flex; align-items: center;">
          <img src="{{ asset('img/user-icon.png') }}" alt="avatar" style="width: 50px; height: 50px; border-radius: 50%; margin-right: 1rem;">
          <div>
            <strong>{{ user.firstname }} {{ user.lastname }}</strong><br>
            <span style="color: gray;">@{{ user.pseudo }}</span><br>
            <small>{{ user.email }}</small><br>
            <p>Niveau : {{ user.level }}</p>
            <p>Points : {{ user.points }}</p>
          </div>
        </li>
      {% endfor %}
    </ul>
  {% endif %}
</div>
{% endblock %}

